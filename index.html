<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" type="text/css" href="todo.css" />
</head>
<body>

<form>
  <label for="todo-input">할 일</label>
  <input type="text" id="todo-input" placeholder="할 일을 입력하세요." required/>
  <button id="add-button">추가</button>
</form>
<div id="container">
  <ul id="todo-list">
    <!-- <div class="todo">
      <li class="todo-content">내용</li>
      <button class="complete-button">완료</button>
      <button class="delete-button">삭제</button>
    </div> -->
  </ul>
</div>
<button id="getLocation">위치정보</button>
<div id="map" style="width:100%;height:350px;"></div>
<!-- 
<script src="todo.js"></script> -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=ac42de0e44a04d045cb4b28780c94ea6"></script>
<script>
  var mapContainer = document.getElementById('map'), // 지도를 표시할 div
      mapOption = {
          center: new kakao.maps.LatLng(37.566826, 126.9786567), // 지도 중심 좌표
          level: 3 // 지도 확대 레벨
      };

  var map = new kakao.maps.Map(mapContainer, mapOption); // 지도 생성

  // 사용자 위치 가져오기
  function getMyLocation() {
      navigator.geolocation.getCurrentPosition(function(position) {
          var lat = position.coords.latitude, // 위도
              lon = position.coords.longitude; // 경도

          var locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
          var marker = new kakao.maps.Marker({ // 마커 생성
              map: map, // 마커를 표시할 지도 객체
              position: locPosition // 마커의 위치
          });
          
          // 지도 중심 좌표를 사용자의 위치로 변경합니다
          map.setCenter(locPosition);
      });
  }

  // 사용자 위치 업데이트
  function updateMyLocation() {
      navigator.geolocation.watchPosition(function(position) {
          var lat = position.coords.latitude, // 위도
              lon = position.coords.longitude; // 경도

          var locPosition = new kakao.maps.LatLng(lat, lon); // 마커가 표시될 위치를 geolocation으로 얻어온 좌표로 생성합니다
          marker.setPosition(locPosition); // 마커 위치 업데이트
      });
  }

  // 사용자 위치 가져오기
  getMyLocation();

  // 위치 업데이트 타이머 시작
  setInterval(updateMyLocation, 5000);

 
</script>
</body>
</html>